App Dev Cloud with JBoss BRMS Install Demo 
==========================================
This demo is to install JBoss BRMS in the Cloud based on leveraging any Red Hat OpenShift Container Platform (OCP).
It delivers a fully functioning containerized JBoss BRMS installation.


Install JBoss BRMS on OpenShift
-------------------------------
1. First ensure you have an OpenShift container based installation, such as one of the following installed first:

  - [OCP Install Demo](https://github.com/redhatdemocentral/ocp-install-demo)

  - [Red Hat Container Development Kit (CDK) using Minishift](https://developers.redhat.com/products/cdk/overview)

  - or your own OpenShift installation.

2. [Download and unzip this demo.](https://github.com/redhatdemocentral/rhcs-brms-install-demo/archive/master.zip)

3. Download JBoss EAP & JBoss BRMS, add to installs directory (see installs/README).

4. Run 'init.sh' or 'init.bat' file. 'init.bat' must be run with Administrative privileges:
```
   # The installation needs to be pointed to a running version
   # of OpenShift, so pass an IP address such as:
   #
   $ ./init.sh 192.168.99.100  # example for OCP.
```

Now log in to JBoss BRMS and start developing containerized rules projects (the address will be generated by the init script).

  - OCP example: http://rhcs-brms-install-demo-appdev-in-cloud.192.168.99.100.nip.io/business-central ( u:erics / p:jbossbrms1! )

5. Not sure how to get started with JBoss BRMS? Try one of these <a href="https://bpmworkshop.github.io/#/4" target="_blank">online workshops</a> to build a first project from scratch.


Notes
-----

Should your local network DNS not handle the resolution of the above address, giving you page not found errors, you can apply the
following to your local hosts file:

```
$ sudo vi /etc/hosts

# add host for OCP demo resulution
192.168.99.100   rhcs-brms-install-demo-appdev-in-cloud.192.168.99.100.nip.io 
```

-----

If for any reason the installation breaks or you want a new JBoss BRMS installation, just remove the project rhcs-brms-install-demo entry in the OpenShift console and re-run the installation.

-----

To clone a repository in the running container, the following actions would need to occur from a developer's machine.

1. Execute port forwarding through the OpenShift CLI. This will open a tunnel between the developer's machine and the pod through
	 the OpenShift API pod proxy. The command window will block while the session is open:

   ```
   # Read-only access to repo on port 9418.
   #
   $ oc port-forward $(oc get pod -l=deploymentconfig=rhcs-brms-install-demo --template='{{ range .items }} {{ .metadata.name }} {{ end }}') 9418:9418

   # Read-write access to repo on port 8001.
   #
   $ oc port-forward $(oc get pod -l=deploymentconfig=rhcs-brms-install-demo --template='{{ range .items }} {{ .metadata.name }} {{ end }}') 8001:8001
   ```

2. Clone the repository. In another window, clone the remote repository after logging in to Business Central, creating a repository
	 and identifying the repository URL in the Admin Perspective (this example is a BackOffice repository):

   ```
   # Read-only access to repo on port 9418.
   #
   $ git clone git://localhost:9418/BackOffice

   # Read-write access to repo on port 8001.
   #
   $ git clone git://localhost:8001/BackOffice
   ```

-----


Supporting Articles
-------------------
- [10 Steps to Cloud Happiness: Step 4 - Centralize Business Logic](http://www.schabell.org/2017/10/10-steps-to-cloud-happiness-step-4.html)

- [Holiday Homework - Red Hat Cloud demo updates](http://www.schabell.org/2016/12/holiday-homework-redhat-cloud-demo-updates.html)

- [App Dev in the Cloud: How To Run JBoss BRMS in a Container](http://www.schabell.org/2016/12/appdev-cloud-howto-run-jboss-brms-in-container.html)

- [Real App Dev in the Cloud with JBoss BRMS Install Demo](http://www.schabell.org/2016/03/real-appdev-in-cloud-jboss-brms-install-demo.html)


Released versions
-----------------
See the tagged releases for the following versions of the product:

- v1.8 - JBoss BRMS 6.4.0 and JBoss EAP 7.0.0 and available on CDK with Minishift.

- v1.7 - JBoss BRMS 6.4.0 and JBoss EAP 7.0.0 with OpenShift genereated routes and service URLs.

- v1.6 - JBoss BRMS 6.4.0 and JBoss EAP 7.0.0 running on any given OpenShift installation and loading mulitple projects.

- v1.5 - JBoss BRMS 6.4.0 and JBoss EAP 7.0.0 running on any given OpenShift installation and port forwarding for git repo access configured.

- v1.4 - JBoss BRMS 6.4.0 and JBoss EAP 7.0.0 running on any given OpenShift installation.

- v1.3 - JBoss BRMS 6.3.0 and JBoss EAP 6.4.7 running on any given OpenShift installation.

- v1.2 - JBoss BRMS 6.3.0 and JBoss EAP 6.4.7 running on Red Hat CDK.

- v1.1 - JBoss BRMS 6.2.0.GA-redhat-1-bz-1334704 and JBoss EAP 6.4.4 running on Red Hat CDK.

- v1.0 - JBoss BRMS 6.2.0-BZ-1299002, JBoss EAP 6.4.4 and running on Red Hat CDK using OpenShift Enterprise image. 

![OCP console](https://github.com/redhatdemocentral/rhcs-brms-install-demo/blob/master/docs/demo-images/rhcs-brms-ocp-console.png?raw=true)

![OCP build](https://github.com/redhatdemocentral/rhcs-brms-install-demo/blob/master/docs/demo-images/rhcs-brms-build-ocp.png?raw=true)

![OCP pod](https://github.com/redhatdemocentral/rhcs-brms-install-demo/blob/master/docs/demo-images/rhcs-brms-pod-ocp.png?raw=true)

![JBoss BRMS OCP console](https://github.com/redhatdemocentral/rhcs-brms-install-demo/blob/master/docs/demo-images/jboss-brms-ocp-console.png?raw=true)

![JBoss BRMS OCP](https://github.com/redhatdemocentral/rhcs-brms-install-demo/blob/master/docs/demo-images/jboss-brms-ocp.png?raw=true)

![Cloud Suite](https://github.com/redhatdemocentral/rhcs-brms-install-demo/blob/master/docs/demo-images/rhcs-arch.png?raw=true)
